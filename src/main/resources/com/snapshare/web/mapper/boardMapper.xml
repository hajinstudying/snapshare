<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   <!-- 매퍼 XML -->
	<mapper namespace="com.snapshare.web.repository.BoardMapperInterface">
		
		<!-- 게시물 상세 조회 쿼리 메소드 -->	
		<select id="getBoard" resultType="BoardVo">
			SELECT board_id,
				file_name,
				member_id,
				bookmark_count
			FROM board
			WHERE board_id = #{boardId}
		</select>
		
		<!-- 게시물 목록 조회 쿼리 메소드 -->
		<select id="listBoard" resultType="BoardVo">
			SELECT board_id,
				file_name,
				member_id,
			FROM board
			ORDER BY board_id
		</select>
	
		<!-- 게시물 등록 메소드2(selectKey 사용) -->
		<insert id="createBoardSelectKey" parameterType="BoardVo">
			<selectKey keyProperty="bno" resultType="int" order="BEFORE">
				SELECT seq_board.nextval FROM dual				
			</selectKey>
				INSERT INTO board(
					board_id
					file_name,
					member_id
					bookmark_count)
				VALUES(
					#{boardId},
					#{fileName},
					#{memberId},
					0)
		</insert>
		
		<!-- 게시물 삭제 쿼리 메소드 -->
		<delete id="deleteBoard" parameterType="int">
			DELETE FROM board
			WHERE board_id = #{boardId}
		</delete>

	</mapper>